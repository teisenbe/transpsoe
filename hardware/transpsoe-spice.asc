Version 4
SHEET 1 3156 1408
WIRE 1536 -528 1424 -528
WIRE 784 -512 752 -512
WIRE 1968 -512 1856 -512
WIRE 560 -464 464 -464
WIRE 464 -432 464 -464
WIRE 480 -432 464 -432
WIRE 1424 -432 1424 -528
WIRE 1440 -432 1424 -432
WIRE 560 -416 560 -464
WIRE 560 -416 544 -416
WIRE 576 -416 560 -416
WIRE 672 -416 672 -512
WIRE 672 -416 656 -416
WIRE 688 -416 672 -416
WIRE 1536 -416 1536 -528
WIRE 1536 -416 1504 -416
WIRE 1568 -416 1536 -416
WIRE 1856 -416 1856 -512
WIRE 1872 -416 1856 -416
WIRE 64 -400 64 -432
WIRE 160 -400 64 -400
WIRE 272 -400 240 -400
WIRE 320 -400 272 -400
WIRE 480 -400 464 -400
WIRE 784 -400 784 -512
WIRE 784 -400 752 -400
WIRE 1040 -400 784 -400
WIRE 1440 -400 1424 -400
WIRE 1968 -400 1968 -512
WIRE 1968 -400 1936 -400
WIRE 2000 -400 1968 -400
WIRE 688 -384 672 -384
WIRE 1872 -384 1856 -384
WIRE 64 -368 64 -400
WIRE 672 -368 672 -384
WIRE 272 -304 272 -320
WIRE 560 -256 560 -416
WIRE 1040 -256 1040 -400
WIRE 1520 -256 1408 -256
WIRE 1952 -256 1840 -256
WIRE 640 -192 640 -256
WIRE 720 -192 720 -256
WIRE 800 -192 800 -256
WIRE 880 -192 880 -256
WIRE 960 -192 960 -256
WIRE -16 -160 -80 -160
WIRE 1408 -160 1408 -256
WIRE 1424 -160 1408 -160
WIRE 1840 -160 1840 -256
WIRE 1856 -160 1840 -160
WIRE 1520 -144 1520 -256
WIRE 1520 -144 1488 -144
WIRE 1552 -144 1520 -144
WIRE 1952 -144 1952 -256
WIRE 1952 -144 1920 -144
WIRE 1984 -144 1952 -144
WIRE 1424 -128 1408 -128
WIRE 1856 -128 1840 -128
WIRE -80 -112 -80 -160
WIRE -80 -32 -144 -32
WIRE -144 0 -144 -32
WIRE 1136 0 1104 0
WIRE 608 48 576 48
WIRE -80 96 -80 48
WIRE -16 96 -80 96
WIRE 896 96 864 96
WIRE 992 96 976 96
WIRE 1024 96 1024 0
WIRE 1024 96 992 96
WIRE 1040 96 1024 96
WIRE 1136 112 1136 0
WIRE 1136 112 1104 112
WIRE 1040 128 1024 128
WIRE 2880 128 2848 128
WIRE 496 144 496 48
WIRE 496 144 480 144
WIRE 512 144 496 144
WIRE 1024 144 1024 128
WIRE 608 160 608 48
WIRE 608 160 576 160
WIRE 512 176 496 176
WIRE 992 176 992 96
WIRE 992 176 976 176
WIRE 2352 176 2320 176
WIRE 496 192 496 176
WIRE 128 208 80 208
WIRE 384 208 288 208
WIRE 2240 224 2240 176
WIRE 2240 224 2224 224
WIRE 2640 224 2608 224
WIRE 2736 224 2720 224
WIRE 2768 224 2768 128
WIRE 2768 224 2736 224
WIRE 2784 224 2768 224
WIRE 2880 240 2880 128
WIRE 2880 240 2848 240
WIRE 208 256 208 208
WIRE 272 256 208 256
WIRE 2784 256 2768 256
WIRE 144 272 48 272
WIRE 2240 272 2240 224
WIRE 2240 272 2224 272
WIRE 2256 272 2240 272
WIRE 2768 272 2768 256
WIRE 2352 288 2352 176
WIRE 2352 288 2320 288
WIRE 48 304 48 272
WIRE 64 304 48 304
WIRE 272 304 272 256
WIRE 272 304 256 304
WIRE 288 304 272 304
WIRE 2256 304 2240 304
WIRE 2736 304 2736 224
WIRE 2736 304 2720 304
WIRE 144 320 144 272
WIRE 144 320 128 320
WIRE 176 320 176 304
WIRE 176 320 144 320
WIRE 384 320 384 208
WIRE 384 320 352 320
WIRE 400 320 400 144
WIRE 400 320 384 320
WIRE 864 320 864 96
WIRE 864 320 400 320
WIRE 2240 320 2240 304
WIRE -16 336 -192 336
WIRE 64 336 -16 336
WIRE 288 336 272 336
WIRE 1872 336 1824 336
WIRE 2128 336 2032 336
WIRE 272 352 272 336
WIRE 640 352 608 352
WIRE 1136 352 1104 352
WIRE 1952 384 1952 336
WIRE 2016 384 1952 384
WIRE 1888 400 1792 400
WIRE 1792 432 1792 400
WIRE 1808 432 1792 432
WIRE 2016 432 2016 384
WIRE 2016 432 2000 432
WIRE 2032 432 2016 432
WIRE 400 448 400 320
WIRE 496 448 480 448
WIRE 528 448 528 352
WIRE 528 448 496 448
WIRE 544 448 528 448
WIRE 864 448 864 320
WIRE 896 448 864 448
WIRE 992 448 976 448
WIRE 1024 448 1024 352
WIRE 1024 448 992 448
WIRE 1040 448 1024 448
WIRE 1888 448 1888 400
WIRE 1888 448 1872 448
WIRE 1920 448 1920 432
WIRE 1920 448 1888 448
WIRE 2128 448 2128 336
WIRE 2128 448 2096 448
WIRE 2144 448 2144 272
WIRE 2144 448 2128 448
WIRE 2608 448 2608 224
WIRE 2608 448 2144 448
WIRE 640 464 640 352
WIRE 640 464 608 464
WIRE 1136 464 1136 352
WIRE 1136 464 1104 464
WIRE 1728 464 1552 464
WIRE 1808 464 1728 464
WIRE 2032 464 2016 464
WIRE 544 480 528 480
WIRE 1040 480 1024 480
WIRE 2016 480 2016 464
WIRE 2384 480 2352 480
WIRE 2880 480 2848 480
WIRE 528 496 528 480
WIRE 1024 496 1024 480
WIRE 496 528 496 448
WIRE 496 528 480 528
WIRE 992 528 992 448
WIRE 992 528 976 528
WIRE 2144 576 2144 448
WIRE 2272 576 2272 480
WIRE 2272 576 2224 576
WIRE 2288 576 2272 576
WIRE 2608 576 2608 448
WIRE 2640 576 2608 576
WIRE 2736 576 2720 576
WIRE 2768 576 2768 480
WIRE 2768 576 2736 576
WIRE 2784 576 2768 576
WIRE 2384 592 2384 480
WIRE 2384 592 2352 592
WIRE 2880 592 2880 480
WIRE 2880 592 2848 592
WIRE 2288 608 2272 608
WIRE 2784 608 2768 608
WIRE 2272 624 2272 608
WIRE 2768 624 2768 608
WIRE 2736 656 2736 576
WIRE 2736 656 2720 656
WIRE 1504 816 1488 816
WIRE 1120 832 1008 832
WIRE 1008 912 1008 832
WIRE 1024 912 1008 912
WIRE 1120 928 1120 832
WIRE 1120 928 1088 928
WIRE 1312 928 1232 928
WIRE 1424 928 1392 928
WIRE 1488 928 1488 816
WIRE 1488 928 1424 928
WIRE 1504 928 1488 928
WIRE 1024 944 784 944
WIRE 1664 944 1664 816
WIRE 1664 944 1568 944
WIRE 1776 944 1664 944
WIRE 1504 960 1472 960
WIRE 1472 976 1472 960
WIRE 1664 1024 1584 1024
WIRE 1424 1056 1424 928
WIRE 1584 1056 1584 1024
WIRE 1584 1056 1488 1056
FLAG 272 352 0
FLAG -144 0 0
FLAG 48 -160 12V
FLAG 48 96 -12V
FLAG 96 288 12V
FLAG 320 288 12V
FLAG 544 128 12V
FLAG 96 352 -12V
FLAG 320 352 -12V
FLAG 544 192 -12V
FLAG -16 416 0
FLAG 80 208 semiV
FLAG -192 416 0
FLAG 496 192 0
FLAG 608 48 A+S
FLAG 688 160 J3
FLAG -112 656 J3
FLAG -48 656 semiV
FLAG 48 656 A+S
FLAG 576 432 12V
FLAG 576 496 -12V
FLAG 528 496 0
FLAG 720 464 J4
FLAG 400 528 1Vinv
FLAG 128 656 -1Vinv
FLAG 208 656 1Vinv
FLAG 288 656 2Vinv
FLAG 368 656 3Vinv
FLAG 688 240 0
FLAG 720 544 0
FLAG 64 -304 0
FLAG 64 -512 12V
FLAG 272 -304 0
FLAG 320 -400 4V
FLAG 512 -448 12V
FLAG 512 -384 -12V
FLAG 464 -400 4V
FLAG 720 -432 12V
FLAG 720 -368 -12V
FLAG 672 -368 0
FLAG 720 -192 0
FLAG 960 -192 -3V
FLAG 880 -192 -2V
FLAG 800 -192 -1V
FLAG 640 -192 1V
FLAG 1424 -400 1V
FLAG 1472 -448 12V
FLAG 1472 -384 -12V
FLAG 1568 -416 -1Vinv
FLAG 1856 -384 -1V
FLAG 1904 -432 12V
FLAG 1904 -368 -12V
FLAG 2000 -400 1Vinv
FLAG 1408 -128 -2V
FLAG 1456 -176 12V
FLAG 1456 -112 -12V
FLAG 1552 -144 2Vinv
FLAG 1840 -128 -3V
FLAG 1888 -176 12V
FLAG 1888 -112 -12V
FLAG 1984 -144 3Vinv
FLAG 1072 80 12V
FLAG 1072 144 -12V
FLAG 1024 144 0
FLAG 1216 112 J8
FLAG 896 176 2Vinv
FLAG 1216 192 0
FLAG 1072 432 12V
FLAG 1072 496 -12V
FLAG 1024 496 0
FLAG 1216 464 J9
FLAG 896 528 3Vinv
FLAG 1216 544 0
FLAG 2016 480 0
FLAG 1840 416 12V
FLAG 2064 416 12V
FLAG 2288 256 12V
FLAG 1840 480 -12V
FLAG 2064 480 -12V
FLAG 2288 320 -12V
FLAG 1728 544 0
FLAG 1552 544 0
FLAG 2240 320 0
FLAG 2432 288 J5
FLAG 2320 560 12V
FLAG 2320 624 -12V
FLAG 2272 624 0
FLAG 2464 592 J6
FLAG 2432 368 0
FLAG 2464 672 0
FLAG 2816 208 12V
FLAG 2816 272 -12V
FLAG 2768 272 0
FLAG 2960 240 J10
FLAG 2640 304 1Vinv
FLAG 2960 320 0
FLAG 2816 560 12V
FLAG 2816 624 -12V
FLAG 2768 624 0
FLAG 2960 592 J11
FLAG 2640 656 2Vinv
FLAG 2960 672 0
FLAG 1824 336 A+S
FLAG 2144 224 -1Vinv
FLAG 1776 944 semiV
FLAG 784 1024 0
FLAG 784 864 1Vinv
FLAG 1056 896 12V
FLAG 1056 960 -12V
FLAG 1536 912 12V
FLAG 1536 976 -12V
FLAG 1472 976 0
FLAG 1664 1104 -12V
FLAG 1232 1008 0
SYMBOL Opamps\\OPA2991 96 256 R0
SYMATTR InstName U1
SYMBOL Opamps\\OPA2991 320 256 R0
SYMATTR InstName U2
SYMBOL Opamps\\OPA2991 544 96 R0
SYMATTR InstName U3
SYMBOL res 272 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 304 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 224 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL voltage -80 -128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -80 -48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL res -32 320 R0
SYMATTR InstName R4
SYMATTR Value 1Meg
SYMBOL res 496 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 592 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 704 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 50
SYMBOL Misc\\signal -192 320 R0
WINDOW 123 24 132 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName J1
SYMATTR Value ""
SYMBOL Opamps\\OPA2991 576 400 R0
SYMATTR InstName U4
SYMBOL res 496 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 624 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 736 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 50
SYMBOL res 496 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 672 144 R0
SYMATTR InstName R12
SYMATTR Value {mc(100k,tolb)}
SYMBOL res 704 448 R0
SYMATTR InstName R13
SYMATTR Value {mc(100k,tolb)}
SYMBOL res 48 -528 R0
SYMATTR InstName R14
SYMATTR Value 22k
SYMBOL res 256 -416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 950
SYMBOL res 256 -416 R0
SYMATTR InstName R16
SYMATTR Value 39k
SYMBOL Opamps\\OPA2991 512 -480 R0
SYMATTR InstName U6
SYMBOL Opamps\\OPA2991 720 -464 R0
SYMATTR InstName U7
SYMBOL res 672 -432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 768 -528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 1056 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value {mc(10k,tola)}
SYMATTR SpiceLine tol=0.05
SYMBOL res 736 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value {mc(10k,tola)}
SYMATTR SpiceLine tol=0.05
SYMBOL res 816 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value {mc(10k,tola)}
SYMATTR SpiceLine tol=0.05
SYMBOL res 896 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value {mc(10k,tola)}
SYMATTR SpiceLine tol=0.05
SYMBOL res 976 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value {mc(10k,tola)}
SYMATTR SpiceLine tol=0.05
SYMBOL res 656 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value {mc(30k,tola)}
SYMATTR SpiceLine tol=0.05
SYMBOL Opamps\\OPA2991 1472 -480 R0
SYMATTR InstName U8
SYMBOL Opamps\\OPA2991 1904 -464 R0
SYMATTR InstName U9
SYMBOL Opamps\\OPA2991 1456 -208 R0
SYMATTR InstName U10
SYMBOL Opamps\\OPA2991 1888 -208 R0
SYMATTR InstName U11
SYMBOL Opamps\\OPA2991 1072 48 R0
SYMATTR InstName U12
SYMBOL res 992 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R33
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 1120 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R34
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 1232 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R35
SYMATTR Value 50
SYMBOL res 992 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R36
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 1200 96 R0
SYMATTR InstName R37
SYMATTR Value {mc(100k,tolb)}
SYMBOL Opamps\\OPA2991 1072 400 R0
SYMATTR InstName U13
SYMBOL res 992 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R38
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 1232 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R39
SYMATTR Value 50
SYMBOL res 992 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R40
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 1200 448 R0
SYMATTR InstName R41
SYMATTR Value {mc(100k,tolb)}
SYMBOL res 1120 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R42
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL schottky -16 -144 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value SS24
SYMBOL schottky 48 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value SS24
SYMBOL References\\ADR5044 64 -336 R0
SYMATTR InstName U14
SYMBOL Opamps\\OPA2991 1840 384 R0
SYMATTR InstName U5
SYMBOL Opamps\\OPA2991 2064 384 R0
SYMATTR InstName U15
SYMBOL Opamps\\OPA2991 2288 224 R0
SYMATTR InstName U16
SYMBOL res 2016 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R43
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 2048 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R44
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 1968 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R45
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 1712 448 R0
SYMATTR InstName R46
SYMATTR Value 1Meg
SYMBOL res 2240 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R47
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 2336 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R48
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 2448 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R49
SYMATTR Value 50
SYMBOL Misc\\signal 1552 448 R0
WINDOW 123 24 132 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName J2
SYMATTR Value ""
SYMBOL Opamps\\OPA2991 2320 528 R0
SYMATTR InstName U17
SYMBOL res 2240 560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R50
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 2368 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R51
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 2480 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R52
SYMATTR Value 50
SYMBOL res 2416 272 R0
SYMATTR InstName R54
SYMATTR Value {mc(100k,tolb)}
SYMBOL res 2448 576 R0
SYMATTR InstName R55
SYMATTR Value {mc(100k,tolb)}
SYMBOL Opamps\\OPA2991 2816 176 R0
SYMATTR InstName U18
SYMBOL res 2736 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R56
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 2864 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R57
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 2976 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R58
SYMATTR Value 50
SYMBOL res 2736 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R59
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 2944 224 R0
SYMATTR InstName R60
SYMATTR Value {mc(100k,tolb)}
SYMBOL Opamps\\OPA2991 2816 528 R0
SYMATTR InstName U19
SYMBOL res 2736 560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R61
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 2976 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R62
SYMATTR Value 50
SYMBOL res 2736 640 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R63
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 2944 576 R0
SYMATTR InstName R64
SYMATTR Value {mc(100k,tolb)}
SYMBOL res 2864 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R65
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 2240 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R66
SYMATTR Value {mc(100k,tolb)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 768 848 R0
SYMATTR InstName R25
SYMATTR Value {mc(110k, tolb)}
SYMBOL res 768 928 R0
SYMATTR InstName R26
SYMATTR Value {mc(10k,tolb)}
SYMBOL Opamps\\OPA2991 1056 864 R0
SYMATTR InstName U20
SYMBOL Opamps\\OPA2991 1536 880 R0
SYMATTR InstName U21
SYMBOL res 1408 912 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -56 58 VTop 2
SYMATTR InstName R27
SYMATTR Value {10k * (1 - (semitone_r_err - 1))}
SYMBOL res 1600 800 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 100m
SYMBOL res 1680 800 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 42 -397 VTop 2
SYMATTR InstName R29
SYMATTR Value R=if((time >= 0.05) & (time < 0.056),10G, semitone_r * semitone_r_err)
SYMBOL diode 1488 1040 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL res 1648 928 R0
SYMATTR InstName R30
SYMATTR Value {mc(820, tolb)}
SYMBOL res 1648 1008 R0
SYMATTR InstName R31
SYMATTR Value {mc(10k, tolb)}
SYMBOL voltage 1232 912 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR InstName V3
SYMATTR Value {tuned_v}
TEXT -224 704 Left 2 !;.dc J1 -5 5 0.1 J2 -5 5 0.1
TEXT -224 736 Left 2 !;.tran 0 0.2s 0s 0.001\n;.step param run 1 10 1
TEXT 1112 -240 Left 2 !.param tola=0.0005
TEXT 208 792 Left 2 !.param tolb=0.001
TEXT 976 1224 Left 2 !.step param semitone_r list 1n 10k 20k 30k 40k 50k 60k 70k 80k 90k 100k 110k\n.step param err_idx list 1 2 3\n.param semitone_r_err=table(err_idx, 1, 0.999, 2, 1, 3, 1.001) tuned_v=table(err_idx, 1, -83.303m, 2, -83.223m, 3, -83m)\n.tran 0 0.04s 0s 0.001\n.meas expected_semi param floor(semitone_r / 10k)\n.meas semitone_err AVG log10(abs(V(semiv)*12 - expected_semi))
